<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>重庆质监缺陷管理分析系统</title>
<link rel="stylesheet" href="../assets/css/analysis.css">
<link rel="stylesheet" href="../assets/css/style.css">
<link rel="stylesheet" href="../assets/icons/style.css">

<script src="../scripts/jquery-1.11.3.min.js"></script>
<script src="../scripts/nav.js"></script>
    <script src="../scripts/lib/echarts-3.3.1/echarts.min.js"></script>
    <script type="text/javascript" src="../scripts/plugins/jcarousellite_1.js"></script>
    <script src="../scripts/lib/echarts-2.2.2/echarts.js"></script>


</head>
<body>

<div class="sys-wraper">

  <!-- sys-header -->
  <div class="sys-header">
    <div class="sys-logo">
      <h1>重庆质监缺陷管理分析系统</h1>
      <h2>缺陷产品管理系统</h2>
    </div>
    <div class="sys-menu" id="sys-menu">
      <ul>
        <li>loading......</li>
      </ul>
      <div class="curLine"></div>
    </div>
    <div class="sys-topbar">
      <ul>
        <li><a href="#"> <i class="icon-person"></i>Admin</a></li>
        <li><a href="#"> <i class="icon-logout"></i>退出</a></li>
      </ul>
    </div>
  </div>


  <div class="sys-path"> <i class="icon-room"></i>首页 &gt; 执法任务管理 &gt; 案源发现</div>

  <!-- sys-main -->
  <div class="sys-main sys-main-style">
	
    <div class="catechose">
      	<ul>
        	<li><a href="task-found.html">被动案源接收</a></li>
            <li><a href="task-found-bug.html" class="active">产品质量案源发现</a></li>
            <li><a href="task-found-risk.html">潜在风险案源发现</a></li>
            <li><a href="task-found-web.html">互联网信息案源发现</a></li>
        </ul>
      </div>
    
    
    <div class="col-12" style=" margin-top:20px; ">
      <div class="panel">
        <div class="panel-heading" style=" border-top:1px solid #ddd">
          <div class="panel-title">
          	<div class="list-chose">
                <ul>
                    <li><a href="task-found-bug.html">投诉</a></li>
                    <li class="active"><a href="task-found-bug02.html" class="active">维保</a></li>
                    <li><a href="task-found-bug03.html">质量事故</a></li>
                </ul>
              </div>
          </div>
        </div>
        <div class="panel-body">
        
            <div class="form-box" style=" margin-bottom:20px; background:#f4f4f4; padding:10px; ">
                <div class="form-item">                 
                    	产品类型：
                        <select style=" width:160px; ">
                            <option>请选择产品类别</option>
                            <option>全部</option>
                        </select>
                        选择时间：
                    	<ul class="list-time">
                            <li class="active">今天</li>
                            <li>近7天</li>
                            <li>近30天</li>
                        </ul>
                        自定义时间
                        <input class="input" placeholder="请选择开始时间" value="" type="text" style=" width:200px;"> -  <input class="input" placeholder="请选择结束时间" type="text" style=" width:200px;">
                        <button class="btn"><i class="icon-search"></i>查询</button>
                </div>
              </div>
              
              <div class="assessment">
                <div class="assessment-l assessment-l-style">
                    <a href="task-found-bug02.html"><i class="icon-view-quilt"></i>维保概览</a>
                    <a href="task-found-bug02-band.html"><i class="icon-view-carousel"></i>维保品牌</a>
                    <a href="task-found-bug02-pro.html" class="active"><i class="icon-assessment"></i>维保产品</a>
                </div>
        
                <div class="assessment-r">
                    
                    
                    <div class="col-4">
                      <div class="panel">
                        <div class="panel-heading">
                          <div class="panel-title">维保地图分布</div>
                        </div>
                        <div class="panel-body">
                        	<div class="chart-search">
                            	<input class="input" placeholder="输入车型查询" style=" width:200px;" type="text"><button class="btn"><i class="icon-search"></i>检索</button>
                                <ul style="display: none">
                                	<li><b>朗</b>逸</li>
                                    <li><b>朗</b>行</li>
                                    <li>英<b>朗</b></li>
                                    <li>威<b>朗</b></li>
                                </ul>
                            </div>
                            <div class="chart" id="chart_map" style=" height:220px; "></div>
                        </div>
                      </div>
                    </div>
                    
                    <div class="col-4">
                      <div class="panel">
                        <div class="panel-heading">
                          <div class="panel-title">维保实时监控趋势</div>
                        </div>
                        <div class="panel-body">
                            <div class="chart" id="chart_1"></div>
                        </div>
                      </div>
                    </div>
                    
                    <div class="col-4">
                      <div class="panel">
                        <div class="panel-heading">
                          <div class="panel-title">维保增速趋势图</div>
                        </div>
                        <div class="panel-body">
                            <div class="chart" id="chart_2"></div>
                        </div>
                      </div>
                    </div>
                    
                    <div class="col-4">
                      <div class="panel">
                        <div class="panel-heading">
                          <div class="panel-title">维保部件所在总成占比</div>
                        </div>
                        <div class="panel-body">
                            <div class="chart" id="chart_3"></div>
                        </div>
                      </div>
                    </div>
                    
                    <div class="col-4">
                      <div class="panel">
                        <div class="panel-heading">
                          <div class="panel-title">维保部件所在分总成占比</div>
                        </div>
                        <div class="panel-body">
                            <div class="chart" id="chart_4"></div>
                        </div>
                      </div>
                    </div>
                    
                    <div class="col-4">
                      <div class="panel">
                        <div class="panel-heading">
                          <div class="panel-title">维保评价</div>
                        </div>
                        <div class="panel-body">
                            <div class="chart" id="chart_5"></div>
                        </div>
                      </div>
                    </div>
                    
                    
                </div>
    		
            </div>
            
            
            
        </div>
      </div>
    </div>
    
    

    


    
  </div>

    <script>

        function fill() {
            option = {
                color:["#4a7dba"],
                xAxis: {
                    type: 'category',
                    name: 'x',
                    splitLine: {show: false},
                    data: ['三月二日', '三月三日', '三月四日', '三月五日', '三月六日', '三月七日', '三月八日', '三月九日', '三月十日', '三月十一日']
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    top:"10px",
                    containLabel: true
                },
                yAxis: {
                    type: 'value',
                    max:500
                },
                series: [
                    {
                        name: '3的指数',
                        type: 'line',
                        showSymbol: false,
                        data: [155, 370, 140, 260, 240, 400, 200, 100, 180,60]
                    }
                ]
            };


            myChart = echarts.init($("#chart_1")[0], 'macarons');
            myChart.setOption(option);

            option = {
                color: [ '#5b86c0', '#C45B59'],
                legend: {
                    data: ['平均', '当前'],
                    bottom: 20
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross'
                    }
                },
                grid: {
                    top: "10px",
                    bottom: "60px"
                },
                xAxis: {
                    type: 'value'
                },
                yAxis: {
                    type: 'value',
                },
                series: [ {
                    name: '平均',
                    type: 'line',

                    data: [[1,250],[2,280],[3,250],[4,125],[5,125]],
                },
                    {
                        name: '当前',
                        type: 'line',
                        data: [[1,70],[2,140],[3,138],[4,80],[5,100]],
                    }]
            };

            myChart = echarts.init($("#chart_2")[0], 'macarons');
            myChart.setOption(option);


            option = {
                series : [
                    {
                        name: '访问来源',
                        type: 'pie',
                        radius : '55%',
                        center: ['50%', '60%'],
                        data:[
                            {value:10, name:'车身'+'\n'+'10%'},
                            {value:30, name:'电气设备'+'\n'+'30%'},
                            {value:17, name:'发动机'+'\n'+'17%'},
                            {value:6, name:'轮胎及车轮'+'\n'+'6%'},
                            {value:10, name:'气囊和安全带'+'\n'+'10%', selected:true},
                            {value:4, name:'制动系统'+'\n'+'4%'},
                            {value:23, name:'转向系统'+'\n'+'23%'}
                        ],
                        itemStyle: {
                            emphasis: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }
                ]
            };

            myChart = echarts.init($("#chart_3")[0], 'macarons');
            myChart.setOption(option);

            option = {
                color: ['#5f5f5f'],
                tooltip : {
                    trigger: 'axis',
                    axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                        type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis : [
                    {
                        type : 'category',
                        data : ['气囊', '安全带'],
                        axisTick: {
                            alignWithLabel: true
                        }
                    }
                ],
                yAxis : [
                    {
                        type : 'value',
                        max:140
                    }
                ],
                series : [
                    {
                        type:'bar',
                        label: {
                            normal: {
                                show: true,
                                position: 'top'
                            }
                        },
                        barWidth: '60%',
                        data:[120, 80]
                    }
                ]
            };


            myChart = echarts.init($("#chart_4")[0], 'macarons');
            myChart.setOption(option);


            placeHolderStyle = {
                normal: {
                    label: {
                        show: false,
                        position: "center"
                    },
                    labelLine: {
                        show: false
                    },
                    color: "#dedede",
                    borderColor: "#dedede",
                    borderWidth: 0
                },
                emphasis: {
                    color: "#dedede",
                    borderColor: "#dedede",
                    borderWidth: 0
                }
            };
            option = {
                backgroundColor: '#fff',
                color: ['#DB7093', '#fff', '#FF8C00', '#fff', "#48D1CC"],
                legend: [{
                    orient: '',
                    icon: 'circle',
                    left: 'right',
                    top: 'center',
                    data: ['优秀率', '得分率', '及格率']
                }],
                series: [{
                    name: '值',
                    type: 'pie',
                    clockWise: true, //顺时加载
                    hoverAnimation: false, //鼠标移入变大
                    radius: [91, 95],
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                                textStyle: {
                                    fontSize: 24
                                },
                                position: 'outside'
                            },
                            labelLine: {
                                show: true,
                                length: 15,
                                smooth: 0.5
                            },
                            borderWidth: 8,
                            shadowBlur: 40,
                            borderColor: "#DB7093",
                            shadowColor: 'rgba(0, 0, 0, 0)' //边框阴影
                        }
                    },
                    //及格率数据修改
                    data: [{
                        value: 7.1,
                        name: '好评'
                    }, {
                        value: 5.9,
                        name: '',
                        itemStyle: placeHolderStyle
                    }]
                }, {
                    name: '白',
                    type: 'pie',
                    clockWise: false,
                    radius: [84, 90],
                    hoverAnimation: false,
                    data: [{
                        value: 1
                    }]
                }, {
                    name: '值',
                    type: 'pie',
                    clockWise: true,
                    hoverAnimation: false,
                    radius: [78, 83],
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                                textStyle: {
                                    fontSize: 24
                                },
                            },
                            labelLine: {
                                show: true,
                                length: 20,
                                smooth: 0.5
                            },
                            borderWidth: 8,
                            shadowBlur: 40,
                            borderColor: "#FF8C00",
                            shadowColor: 'rgba(0, 0, 0, 0)' //边框阴影
                        }
                    },
                    //得分率数据修改
                    data: [{
                        value: 3.7,
                        name: '中评'
                    }, {
                        value: 4.3,
                        name: '',
                        itemStyle: placeHolderStyle
                    }]
                }, {
                    name: '白',
                    type: 'pie',
                    clockWise: false,
                    hoverAnimation: false,
                    radius: [69, 75],
                    data: [{
                        value: 1
                    }]
                }, {
                    name: '值',
                    type: 'pie',
                    clockWise: true,
                    hoverAnimation: false,
                    radius: [65, 68],
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                                textStyle: {
                                    fontSize: 24
                                },
                            },
                            labelLine: {
                                show: true,
                                length: 25,
                                smooth: 0.5
                            },
                            borderWidth: 8,
                            shadowBlur: 40,
                            borderColor: "#48D1CC",
                            shadowColor: 'rgba(0, 0, 0, 0)' //边框阴影
                        }
                    },
                    //优秀率数据修改
                    data: [{
                        value: 3.3,
                        name: '差评',

                    }, {
                        value: 9.7,
                        name: '',
                        itemStyle: placeHolderStyle
                    }]
                }, {
                    name: '白',
                    type: 'pie',
                    clockWise: true,
                    hoverAnimation: false,
                    radius: [50, 50],
                    label: {
                        normal: {
                            position: 'center'
                        }
                    },
                    data: [{
                        value: 1,
                        label: {
                            normal: {
                                formatter: '评价人数'+'\n'+'1200',
                                textStyle: {
                                    color: '#666666',
                                    fontSize: 26
                                }
                            }
                        }
                    }, {
                        tooltip: {
                            show: false
                        },
                    }]
                }]
            };

            myChart = echarts.init($("#chart_5")[0], 'macarons');
            myChart.setOption(option);

        }

        fill();

        function map() {
            require.config({
                paths: {
                    echarts: '../scripts/lib/echarts-2.2.2'
                }
            });
            require(
                [
                    'echarts',
                    'echarts/theme/dark',
                    'echarts/chart/map'
                ],
                function(ec, theme) {
                    require('echarts/util/mapData/params').params["重庆市"] = {
                        getGeoJson: (function () {
                            return function (callback) {
                                $.getJSON('../scripts/lib/echarts-2.2.2/geoJson/china-main-city/500100.json', callback);
                            }
                        })()
                    }
                    var option = {
                        tooltip : {
                            trigger: 'item',
                            formatter: '{b}'
                        },
                        series : [
                            {
                                type: 'map',
                                mapType: '重庆市',
                                selectedMode : 'single',
                                itemStyle:{
                                    normal:{label:{show:false}},
                                    emphasis:{label:{show:false}}
                                },
                                data:[]
                            }
                        ]
                    };
                    var chart = ec.init(document.getElementById("chart_map"));
                    chart.setOption(option);
                    chart.on("mapSelected", function (param) {
                        console.log(param);
                        fill();
                    });
                }
            );
        }
        map();




    </script>
  
  
  
</div>

</body>
</html>
