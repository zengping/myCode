<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>重庆质监缺陷管理分析系统</title>
<link rel="stylesheet" href="../assets/css/analysis.css">
<link rel="stylesheet" href="../assets/css/style.css">
<link rel="stylesheet" href="../assets/icons/style.css">
  <script src="../scripts/jquery-1.11.3.min.js"></script>
  <script src="../scripts/nav.js"></script>
  <script src="../scripts/lib/echarts-3.3.1/echarts.min.js"></script>
  <script src="../scripts/lib/echarts-3.3.1/echarts-wordcloud.min.js"></script>
  <script src="../scripts/lib/echarts-2.2.2/echarts.js"></script>

<script src="../scripts/nav.js"></script>


</head>
<body>

<div class="sys-wraper">

  <!-- sys-header -->
  <div class="sys-header">
    <div class="sys-logo">
      <h1>重庆质监缺陷管理分析系统</h1>
      <h2>缺陷产品管理系统</h2>
    </div>
    <div class="sys-menu" id="sys-menu">
      <ul>
        <li>loading......</li>
      </ul>
      <div class="curLine"></div>
    </div>
    <div class="sys-topbar">
      <ul>
        <li><a href="#"> <i class="icon-person"></i>Admin</a></li>
        <li><a href="#"> <i class="icon-logout"></i>退出</a></li>
      </ul>
    </div>
  </div>

  <div class="sys-path"> <i class="icon-room"></i>首页 &gt; 互联网情报分析 &gt; 产品分析 </div>

  <!-- sys-main -->
  <div class="sys-main sys-main-style">
	
    <div class="catechose">
      	<ul>
        	<li><a href="internet-analysis.html">互联网情报预警</a></li>
            <li><a href="internet-industry.html">行业分析</a></li>
            <li><a href="internet-brand.html">品牌分析</a></li>
            <li><a class="active" href="internet-products.html">产品分析</a></li>
            <li><a href="internet-information.html">信息查询</a></li>
        </ul>
      </div>
      
      <div class="form-box">
        <div class="form-item">                 
            <input type="text" style=" width:200px;" value="三星Galaxy Note8" placeholder="请输入关键字" class="input">
            <button class="btn btn-warning"><i class="icon-chart-bar"></i>分析</button>
            <button class="btn" onclick="location.href='internet-information.html'"><i class="icon-search"></i>检索文本</button>
            <button class="btn btn-danger"><i class="icon-pie-chart"></i>生成报告</button>
        </div>
      </div>
      
        
        <div class="col-4">
          <div class="panel">
            <div class="panel-heading border-warning">
              <div class="panel-title">消息数量占比</div>
            </div>
            <div class="panel-body">
                <div class="chart" id="chart_1"><img alt="" src="../assets/images/test/52.png" style=" height:260px" /></div>
            </div>
          </div>
        </div>

        
        <div class="col-4">
          <div class="panel">
            <div class="panel-heading border-warning">
              <div class="panel-title">情感倾向</div>
            </div>
            <div class="panel-body">
              <div class="chart" style="float: left;width: 70%" >
                <div class="chart" id="chart_2" ><img alt="" src="../assets/images/test/53.png" style=" height:260px" /></div>

              </div>
              <div style="float: left;width: 30px">
                <span>中性</span>
                <span>213</span>
                <span>负面</span>
                <span>112</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-4">
          <div class="panel">
            <div class="panel-heading border-warning">
              <div class="panel-title">评价内容</div>
            </div>
            <div class="panel-body">
            	<div class="chart" id="chart_3"><img alt="" src="../assets/images/test/65.png" style=" height:260px" /></div>
            </div>
          </div>
        </div>
        
        <div class="col-4">
          <div class="panel">
            <div class="panel-heading border-warning">
              <div class="panel-title">负面评价内容分析</div>
            </div>
            <div class="panel-body">
                <div class="chart" id="chart_4"><img alt="" src="../assets/images/test/66.png" style=" height:260px" /></div>
            </div>
          </div>
        </div>
        
        <div class="col-4">
          <div class="panel">
            <div class="panel-heading border-warning">
              <div class="panel-title">投诉部件统计</div>
            </div>
            <div class="panel-body">
                <div class="chart" id="chart_5"><img alt="" src="../assets/images/test/67.png" style=" height:260px" /></div>
            </div>
          </div>
        </div>
	    
        <div class="col-4">
          <div class="panel">
            <div class="panel-heading border-warning">
              <div class="panel-title">情报地域分布</div>
            </div>

            <div class="panel-body" style="float: left;width: 65%">
              <div class="chart"  id="chart_6"></div>
            </div>
            <div class="panel-body" style="float: left;width: 35%">

              <div class="chart"  id="chart_7"></div>
            </div>
          </div>
        </div>
                
      
      
  </div>
  
  <script>

    function fill() {
        var option = {
            color:["#B6A2DE","#5AB1EF","#FFB980"],
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    show:false,
                    data : ['周一','周二','周三','周四','周五','周六','周日']
                }
            ],
            yAxis : [
                {
                    type : 'value'
                }
            ],
            series : [
                {
                    name:'互联网信息',
                    type:'bar',
                    stack: '广告',
                    data:[120, 132, 101, 134, 90, 230, 250]
                },
                {
                    name:'网络评价',
                    type:'bar',
                    stack: '广告',
                    data:[220, 182, 191, 234, 290, 330, 310]
                },
                {
                    name:'行业信息',
                    type:'bar',
                    stack: '广告',
                    data:[150, 232, 201, 154, 190, 330, 410]
                }
            ]
        };

        var myChart = echarts.init($("#chart_1")[0], 'macarons');
        myChart.setOption(option);

        option = {
            legend: {
                orient: 'vertical',
                left: 'left',
                formatter:function(){ return "" },
                data: ['53%','24%','16%','7%']
            },
            series : [
                {
                    name: '访问来源',
                    type: 'pie',
                    radius : '55%',
                    center: ['50%', '60%'],
                    data:[
                        {value:530, name:'53%'},
                        {value:230, name:'24%'},
                        {value:160, name:'16%'},
                        {value:60, name:'7%'}
                    ],
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };

        myChart = echarts.init($("#chart_2")[0], 'macarons');
        myChart.setOption(option);

        option = {
            series : [
                {
                    name: '访问来源',
                    type: 'pie',
                    radius : '55%',
                    center: ['50%', '60%'],
                    data:[
                        {value:530, name:'服务'},
                        {value:230, name:'质量'},
                        {value:160, name:'价格'},
                        {value:60, name:'售后'}
                    ],
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };

        myChart = echarts.init($("#chart_4")[0], 'macarons');
        myChart.setOption(option);

        option = {
            color: ['#3398DB'],
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    data : ['发动机', '刹车', '尾灯', '空调', '轮胎', '座椅', '车门'],
                    axisTick: {
                        alignWithLabel: true
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value'
                }
            ],
            series : [
                {
                    label: {
                        normal: {
                            show: true,
                            position: 'top'
                        }
                    },
                    type:'bar',
                    barWidth: '60%',
                    data:[150, 90, 79, 50, 117, 200, 160]
                }
            ]
        };

        myChart = echarts.init($("#chart_5")[0], 'macarons');
        myChart.setOption(option);

        option = {
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                show:false,
                type: 'value',
                boundaryGap: [0, 0.01],
                max:100
            },
            yAxis: {
                type: 'category',
                splitLine:{show:false},
                data: ['其他 ','台湾','广西','新疆','陕西','北京','上海']
            },
            series: [
                { // For shadow
                    type: 'bar',
                    itemStyle: {
                        normal: {color: 'rgba(0,0,0,0.05)'}
                    },
                    barGap:'-100%',
                    barCategoryGap:'40%',
                    data: [100, 100,100, 100, 100, 100, 100],
                    animation: false
                },
                {
                    name: '2011年',
                    type: 'bar',
                    itemStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 0, 1,
                                [
                                    {offset: 0, color: '#83bff6'},
                                    {offset: 0.5, color: '#188df0'},
                                    {offset: 1, color: '#188df0'}
                                ]
                            )
                        },
                        emphasis: {
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 0, 1,
                                [
                                    {offset: 0, color: '#2378f7'},
                                    {offset: 0.7, color: '#2378f7'},
                                    {offset: 1, color: '#83bff6'}
                                ]
                            )
                        }
                    },
                    label: {
                        normal: {
                            position: 'right',
                            show: true,
                            formatter:function(p){
                                return p.value+"%"

                            }
                        }
                    },
                    data: [2.83,  6.25,19.34, 5.90, 19.34, 14.15, 35.38]
                }
            ]
        };

        myChart = echarts.init($("#chart_7")[0], 'macarons');
        myChart.setOption(option);


        draw('chart_3', option = {
            series: [{
                type: 'wordCloud',
                gridSize: 20,
                sizeRange: [12, 50],
                rotationRange: [0, 0],
                shape: 'circle',
                textStyle: {
                    normal: {
                        color: function () {
                            return 'rgb(' + [
                                Math.round(Math.random() * 160),
                                Math.round(Math.random() * 160),
                                Math.round(Math.random() * 160)
                            ].join(',') + ')';
                        }
                    },
                    emphasis: {
                        shadowBlur: 10,
                        shadowColor: '#333'
                    }
                },
                data: [
                    {
                        value: 10000,
                        itemStyle: {
                            normal: {
                                color: 'black'
                            }
                        }
                    },
                    {
                        name: "高速路",
                        value: 6181,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "联系",
                        value: 4386,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "事故",
                        value: 4055,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "服务态度差",
                        value: 2467,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "处理效率低",
                        value: 2244,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "失控",
                        value: 1898,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "发动机",
                        value: 1484,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "破损",
                        value: 1112,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "隧道",
                        value: 965,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "优惠",
                        value: 847,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "汽车",
                        value: 582,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "液压",
                        value: 555,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "违规",
                        value: 550,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "危险",
                        value: 462,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "灯光",
                        value: 366,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "气囊",
                        value: 360,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "轮胎",
                        value: 282,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "尾灯",
                        value: 273,
                        itemStyle: createRandomItemStyle()
                    },
                    {
                        name: "法律",
                        value: 265,
                        itemStyle: createRandomItemStyle()
                    }
                ]
            }]
        })

    }

    function draw(id, option) {
        var myChart = echarts.init(document.getElementById(id));
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    }

    function createRandomItemStyle() {
        return {
            normal: {
                color: 'rgb(' + [
                    Math.round(Math.random() * 160),
                    Math.round(Math.random() * 160),
                    Math.round(Math.random() * 160)
                ].join(',') + ')'
            }
        };
    }




    fill();

    function map() {
        require.config({
            paths: {
                echarts: '../scripts/lib/echarts-2.2.2'
            }
        });
        require(
            [
                'echarts',
                'echarts/theme/dark',
                'echarts/chart/map'
            ],
            function(ec, theme) {
                require('echarts/util/mapData/params').params["中国"] = {
                    getGeoJson: (function () {
                        return function (callback) {
                            $.getJSON('../scripts/lib/echarts-2.2.2/geoJson/china.json', callback);
                        }
                    })()
                }
                var option = {
                    tooltip : {
                        trigger: 'item',
                        formatter: '{b}'
                    },
                    series : [
                        {
                            type: 'map',
                            mapType: '中国',
                            selectedMode : 'single',
                            itemStyle:{
                                normal:{label:{show:false}},
                                emphasis:{label:{show:false}}
                            },
                            data:[]
                        }
                    ]
                };
                var chart = ec.init(document.getElementById("chart_6"));
                chart.setOption(option);
                chart.on("mapSelected", function (param) {
                    console.log(param);
                    fill();
                });
            }
        );
    }
    map();





  </script>
  
</div>

</body>
</html>
