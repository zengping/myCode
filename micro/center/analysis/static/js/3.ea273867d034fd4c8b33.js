webpackJsonp([3],{AoHx:function(t,e){},d5Zq:function(t,e){},gNjJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-6"},[n("div",{staticClass:"panel"},[t._m(0),t._v(" "),n("div",{staticClass:"panel-body",staticStyle:{overflow:"auto",height:"295px"}},[n("table",{staticClass:"table table-striped"},[n("tbody",[n("tr",[n("td",[t._v("案件名称")]),t._v(" "),n("td",[t._v(t._s(t.item.caseFacts))]),t._v(" "),n("td",[t._v("案件类型")]),t._v(" "),n("td",[t._v(t._s(t.item.illegalBehvr))]),t._v(" "),n("td",[t._v("办理状态")]),t._v(" "),n("td",[n("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.item.caseStat))])])]),t._v(" "),n("tr",[n("td",[t._v("办案机构")]),t._v(" "),n("td"),t._v(" "),n("td",[t._v("涉案企业")]),t._v(" "),n("td",[t._v(t._s(t.item.entName))]),t._v(" "),n("td",[t._v("立案时间")]),t._v(" "),n("td",[t._v(t._s(t.item.regCaseTm))])]),t._v(" "),n("tr",[n("td",[t._v("查处环节")]),t._v(" "),n("td",[t._v(t._s(t.item.punishLink))]),t._v(" "),n("td",[t._v("涉案物品")]),t._v(" "),n("td"),t._v(" "),n("td",[t._v("涉案物品规格型号")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("涉案物品数量")]),t._v(" "),n("td"),t._v(" "),n("td",[t._v("涉案货值")]),t._v(" "),n("td",[t._v("￥"+t._s(t.item.prodPrice))]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("主要违法行为")]),t._v(" "),n("td",{attrs:{colspan:"5"}},[t._v(t._s(t.item.caseBehvr))])]),t._v(" "),n("tr",[n("td",[t._v("是否大案要案")]),t._v(" "),n("td",{attrs:{colspan:"5"}},[t._v(t._s(t.item.punishLevel))])]),t._v(" "),t._m(1)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("div",{staticClass:"panel-title"},[this._v("案件基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("处罚结果")]),this._v(" "),e("td",{attrs:{colspan:"5"}})])}]},i=n("VU/8")({data:function(){return{loading:!1,item:{}}},created:function(){this.init()},methods:{init:function(){var t=this;this.loading=!0,this.$http.get({api:"A_S_CASE_INFO",params:{caseId:this.$route.params.id},loading:this.$data,callback:function(e){t.loading=!1,t.item=e,t.$bus.$emit("lawcaseinfoCompanyWorld",e)}})}}},a,!1,null,null,null).exports,s={data:function(){return{loading:!1}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.loading=!0,this.$http.get({api:"A_S_CASE_WORLD",params:{caseId:this.$route.params.id},loading:this.$data,callback:function(e){t.loading=!1,t.draw(e)}})},draw:function(t){var e={tooltip:{show:!0,formatter:"{b0}"},series:[{name:"事件画像",type:"wordCloud",size:["80%","80%"],textRotation:[0,45,90,-45],textPadding:0,autoSize:{enable:!0,minSize:14},textStyle:this.createRandomItemStyle(),data:t}]};this.$echarts.init(document.getElementById("info_chart2")).setOption(e)},createRandomItemStyle:function(){return{normal:{color:function(){return"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}}}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-3"},[e("div",{staticClass:"panel"},[this._m(0),this._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticClass:"panel-body",staticStyle:{overflow:"auto"}},[e("div",{staticClass:"chart",attrs:{id:"info_chart2"}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("div",{staticClass:"panel-title"},[this._v("案件画像")])])}]},o=n("VU/8")(s,r,!1,null,null,null).exports,l={data:function(){return{loading:!1,companyName:""}},created:function(){this.$bus.$on("lawcaseinfoCompanyWorld",this.init)},destroyed:function(){this.$bus.$off("lawcaseinfoCompanyWorld",this.init)},methods:{init:function(t){this.companyName=t.entName;var e=this;this.loading=!0,this.$http.get({api:"A_S_COMPANY_WORLD",params:{orgId:t.orgId},loading:this.$data,callback:function(t){e.loading=!1,e.draw(t)}})},draw:function(t){var e={tooltip:{show:!0,formatter:"{b0}"},series:[{name:"事件画像",type:"wordCloud",size:["80%","80%"],textRotation:[0,45,90,-45],textPadding:0,autoSize:{enable:!0,minSize:14},textStyle:this.createRandomItemStyle(),data:t}]};this.$echarts.init(document.getElementById("info_chart3")).setOption(e)},createRandomItemStyle:function(){return{normal:{color:function(){return"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}}}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-3"},[e("div",{staticClass:"panel"},[e("div",{staticClass:"panel-heading"},[e("div",{staticClass:"panel-title"},[this._v("相关企业画像——"+this._s(this.companyName))])]),this._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticClass:"panel-body",staticStyle:{overflow:"auto"}},[e("div",{staticClass:"chart",attrs:{id:"info_chart3"}})])])])},staticRenderFns:[]},d=n("VU/8")(l,c,!1,null,null,null).exports,u={data:function(){return{loading:!1}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.loading=!0,this.$http.get({api:"A_S_COMPANY_RELATION",params:{caseId:this.$route.params.id},loading:this.$data,callback:function(e){t.loading=!1,t.draw(e)}})},draw:function(t){var e=this;t=this.formatLink(t);var n=window.d3.select("#info_chart4").append("svg").attr("width",898).attr("height",260),a=window.d3.layout.force().nodes(t.node).links(t.link).size([898,260]).linkDistance(100).charge([-1e3]);a.start();var i=n.selectAll("line").data(t.link).enter().append("line").style("stroke","#999").style("stroke-width",2),s=n.selectAll(".companyCircle").data(t.companyNode).enter().append("circle").attr("class","companyCircle").attr("r",40).style("fill","#659AE6").call(a.drag).on("mouseover",function(t){var n=window.d3.event;e.$lib.tip(n.clientX,n.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()}),r=n.selectAll(".companyText").data(t.companyNode).enter().append("text").attr("class","companyText").style("fill","#fff").attr("dx",-12).attr("dy",5).text(function(t){return t.name.length>2?t.name.substring(0,2)+"...":t.name}).on("mouseover",function(t){var n=window.d3.event;e.$lib.tip(n.clientX,n.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()}),o=n.selectAll(".selfCircle").data(t.selfNode).enter().append("circle").attr("class","selfCircle").attr("r",30).style("fill","#FF8A32").call(a.drag).on("mouseover",function(t){var n=window.d3.event;e.$lib.tip(n.clientX,n.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()}),l=n.selectAll(".selfText").data(t.selfNode).enter().append("text").attr("class","selfText").style("fill","#fff").attr("dx",-12).attr("dy",5).text(function(t){return t.name.length>2?t.name.substring(0,2)+"...":t.name}).on("mouseover",function(t){var n=window.d3.event;e.$lib.tip(n.clientX,n.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()}),c=n.selectAll(".otherCircle").data(t.otherNode).enter().append("circle").attr("class","otherCircle").attr("r",30).style("fill","#1EC6C9").call(a.drag).on("mouseover",function(t){e.$lib.tip(event.clientX,event.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()}),d=n.selectAll(".otherText").data(t.otherNode).enter().append("text").attr("class","otherText").style("fill","#fff").attr("dx",-12).attr("dy",5).text(function(t){return t.name.length>2?t.name.substring(0,2)+"...":t.name}).on("mouseover",function(t){var n=window.d3.event;e.$lib.tip(n.clientX,n.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()});a.on("tick",function(){i.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),s.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),r.attr("x",function(t){return t.x}).attr("y",function(t){return t.y}),o.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),l.attr("x",function(t){return t.x}).attr("y",function(t){return t.y}),c.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),d.attr("x",function(t){return t.x}).attr("y",function(t){return t.y})})},formatLink:function(t){var e=[];return t.companyNode=[],t.selfNode=[],t.otherNode=[],t.node.map(function(n){e.push(n.value),0===n.isMain&&(t.companyNode=[n]),1===n.isMain&&(t.selfNode=[n]),2===n.isMain&&t.otherNode.push(n)}),e.map(function(e,n){t.link.map(function(t){e===t.source&&(t.source=n),e===t.target&&(t.target=n)})}),t}}},h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-6"},[e("div",{staticClass:"panel"},[e("div",{staticClass:"panel-heading"},[e("div",{staticClass:"panel-title"},[this._v("企业违法分析")])]),this._v(" "),e("div",{staticClass:"panel-body"},[e("div",{staticClass:"chart",staticStyle:{"max-height":"260px",overflow:"hidden"},attrs:{id:"info_chart4"}})])])])}]},v=n("VU/8")(u,h,!1,null,null,null).exports,f=n("mvHQ"),m=n.n(f),p={data:function(){return{loading:!1,period:!1,area:!1,sameType:!1,relationData:{}}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.loading=!0,this.$http.get({api:"A_S_CASE_RELATION",params:{caseId:this.$route.params.id},loading:this.$data,callback:function(e){t.loading=!1,t.relationData=e,t.redraw()}})},draw:function(t){var e=this;t=this.formatLink(t);var n=window.d3.select("#info_chart5").append("svg").attr("width",800).attr("height",260),a=window.d3.layout.force().nodes(t.node).links(t.link).size([800,260]).linkDistance(150).charge([-1e3]);a.start();var i=n.selectAll("line").data(t.link).enter().append("line").style("stroke","#999").style("stroke-width",2),s=n.selectAll(".companyCircle").data(t.companyNode).enter().append("circle").attr("class","companyCircle").attr("r",40).style("fill","#659AE6").call(a.drag).on("mouseover",function(t){var n=window.d3.event;e.$lib.tip(n.clientX,n.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()}),r=n.selectAll(".companyText").data(t.companyNode).enter().append("text").attr("class","companyText").style("fill","#fff").attr("dx",-12).attr("dy",5).text(function(t){return t.name.length>2?t.name.substring(0,2)+"...":t.name}).on("mouseover",function(t){var n=window.d3.event;e.$lib.tip(n.clientX,n.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()}),o=n.selectAll(".selfCircle").data(t.selfNode).enter().append("circle").attr("class","selfCircle").attr("r",30).style("fill","#FF8A32").call(a.drag).on("mouseover",function(t){var n=window.d3.event;e.$lib.tip(n.clientX,n.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()}),l=n.selectAll(".selfText").data(t.selfNode).enter().append("text").attr("class","selfText").style("fill","#fff").attr("dx",-12).attr("dy",5).text(function(t){return t.name.length>2?t.name.substring(0,2)+"...":t.name}).on("mouseover",function(t){var n=window.d3.event;e.$lib.tip(n.clientX,n.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()}),c=n.selectAll(".otherCircle").data(t.otherNode).enter().append("circle").attr("class","otherCircle").attr("r",30).style("fill","#1EC6C9").call(a.drag).on("mouseover",function(t){e.$lib.tip(event.clientX,event.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()}),d=n.selectAll(".otherText").data(t.otherNode).enter().append("text").attr("class","otherText").style("fill","#fff").attr("dx",-12).attr("dy",5).text(function(t){return t.name.length>2?t.name.substring(0,2)+"...":t.name}).on("mouseover",function(t){var n=window.d3.event;e.$lib.tip(n.clientX,n.clientY,t.name)}).on("mouseout",function(t){e.$lib.hideTip()});a.on("tick",function(){i.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),s.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),r.attr("x",function(t){return t.x}).attr("y",function(t){return t.y}),o.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),l.attr("x",function(t){return t.x}).attr("y",function(t){return t.y}),c.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),d.attr("x",function(t){return t.x}).attr("y",function(t){return t.y})})},formatLink:function(t){var e=[];return t.otherNode=[],t.node.map(function(n){e.push(n.value),2===n.isMain&&t.otherNode.push(n)}),e.map(function(e,n){t.link.map(function(t){e===t.source&&(t.source=n),e===t.target&&(t.target=n)})}),t},redraw:function(){document.querySelector("#info_chart5").innerHTML="";var t=JSON.parse(m()(this.relationData)),e=this.getData(t);this.draw(e)},getData:function(t){var e=this,n={companyNode:[],selfNode:[],otherNode:[],node:[],link:[]},a=[],i=[];return t.node.map(function(t){10===t.isMain&&e.period&&(a.push(t.value),n.companyNode.push(t)),11===t.isMain&&e.area&&(a.push(t.value),n.companyNode.push(t)),13===t.isMain&&e.sameType&&(a.push(t.value),n.companyNode.push(t)),1===t.isMain&&(n.selfNode=[t])}),0===n.companyNode.length?(n.node=n.selfNode,n):(t.link.map(function(t){(a.indexOf(t.source)>-1||a.indexOf(t.target)>-1)&&(n.link.push(t),-1===i.indexOf(t.source)&&i.push(t.source),-1===i.indexOf(t.target)&&i.push(t.target))}),t.node.map(function(t){i.indexOf(t.value)>-1&&n.node.push(t)}),n)}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-6"},[n("div",{staticClass:"panel"},[t._m(0),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"choseinput"},[n("dl",[n("dd",[n("el-checkbox",{on:{change:t.redraw},model:{value:t.period,callback:function(e){t.period=e},expression:"period"}},[t._v("同时期")])],1),t._v(" "),n("dd",[n("el-checkbox",{on:{change:t.redraw},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}},[t._v("同区域")])],1),t._v(" "),n("dd",[n("el-checkbox",{on:{change:t.redraw},model:{value:t.sameType,callback:function(e){t.sameType=e},expression:"sameType"}},[t._v("同类型")])],1)])]),t._v(" "),n("div",{staticClass:"chart",staticStyle:{height:"260px"},attrs:{id:"info_chart5"}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("div",{staticClass:"panel-title"},[this._v("案件关联分析")])])}]},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-6"},[n("div",{staticClass:"panel"},[t._m(0),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"similar"},[n("dl",[n("dd",{class:{active:1==t.showPage},on:{click:function(e){t.showPage=1,t.init()}}},[t._v("已结案")]),t._v(" "),n("dd",{class:{active:2==t.showPage},on:{click:function(e){t.showPage=2,t.init()}}},[t._v("未结案")])])]),t._v(" "),n("div",{staticClass:"tablescoll tablescollstyle"},[n("el-row",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticClass:"table table-striped",staticStyle:{width:"100%"},attrs:{data:t.item,stripe:"",height:"210"}},[n("el-table-column",{attrs:{prop:"caseFacts","min-width":"200","show-overflow-tooltip":"",label:"案件名称",fixed:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"illegalBehvr","min-width":"100","show-overflow-tooltip":"",label:"主要违法行为"}}),t._v(" "),n("el-table-column",{attrs:{prop:"illegalTypes","min-width":"100","show-overflow-tooltip":"",label:"违法类型"}}),t._v(" "),n("el-table-column",{attrs:{prop:"punishLink","min-width":"100","show-overflow-tooltip":"",label:"查处环节"}}),t._v(" "),n("el-table-column",{attrs:{width:"80","show-overflow-tooltip":"",label:"相似度",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.siminal)+"%\n              ")]}}])})],1)],1)],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("div",{staticClass:"panel-title"},[this._v("相似案件")])])}]};var g={data:function(){return{loading:!1,item:{}}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.loading=!0,this.$http.get({api:"A_S_CASE_DECISION_ITEM",params:{caseId:this.$route.params.id},loading:this.$data,callback:function(e){t.loading=!1,t.item=e,t.draw(e)}})},draw:function(t){var e={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:this.dataFormat(t).series};this.$echarts.init(document.getElementById("info_chart7"),"macarons").setOption(e)},dataFormat:function(t){var e={series:[]};return Array.prototype.slice.apply(t.resultAnalysisOuts).map(function(t,n){var a=["16.6%","25%"];switch(n){case 1:a=["50%","25%"];break;case 2:a=["83.3%","25%"];break;case 3:a=["16.6%","75%"];break;case 4:a=["50%","75%"];break;case 5:a=["83.3%","75%"]}e.series.push({name:t.name,type:"pie",radius:["32%","42%"],center:a,avoidLabelOverlap:!1,label:{normal:{show:!0,position:"center",formatter:function(t){return t.seriesName.length>6&&(t.seriesName=t.seriesName.substring(0,6)+"\n\r"+t.seriesName.substring(6)),t.seriesName}},emphasis:{show:!0,textStyle:{fontSize:"12"}}},labelLine:{normal:{show:!1}},data:t.data})}),e}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-6"},[n("div",{staticClass:"panel"},[t._m(0),t._v(" "),n("div",{staticClass:"panel-body"},[t._m(1),t._v(" "),n("div",{staticClass:"col-5"},[n("div",{staticClass:"tuijian"},[n("h5",[t._v("决策推荐")]),t._v(" "),n("dl",t._l(t.item.punishResult,function(e,a){return n("dd",{key:a},[n("p",[n("em",[t._v(t._s(e.name)+":")]),n("em",[t._v(t._s(e.value))])])])}))])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("div",{staticClass:"panel-title"},[this._v("决策分析")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-7"},[e("div",{staticClass:"chart",staticStyle:{"max-height":"260px"},attrs:{id:"info_chart7"}})])}]};var b={components:{M1:i,M2:o,M3:d,M4:v,M5:n("VU/8")(p,_,!1,null,null,null).exports,M6:n("VU/8")({data:function(){return{loading:!1,showPage:1,item:[]}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.loading=!0;var e="已结案";2===this.showPage&&(e="办理中"),this.item=[],this.$http.get({api:"A_S_CASE_SIMILAR",params:{caseId:this.$route.params.id,caseStatus:e},loading:this.$data,callback:function(e){t.loading=!1,t.item=e}})}}},y,!1,function(t){n("AoHx")},"data-v-355a1933",null).exports,M7:n("VU/8")(g,x,!1,function(t){n("d5Zq")},null,null).exports}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sys-main"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"catetime"},[n("h3",[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.$router.push("/lawcase")}}},[n("i",{staticClass:"icon-reply"}),t._v("返回")])])])]),t._v(" "),n("m1"),t._v(" "),n("m2"),t._v(" "),n("m3"),t._v(" "),n("m4"),t._v(" "),n("m5"),t._v(" "),n("m6"),t._v(" "),n("m7")],1)},staticRenderFns:[]},C=n("VU/8")(b,w,!1,null,null,null);e.default=C.exports},mvHQ:function(t,e,n){t.exports={default:n("qkKv"),__esModule:!0}},qkKv:function(t,e,n){var a=n("FeBl"),i=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}}});
//# sourceMappingURL=3.ea273867d034fd4c8b33.js.map